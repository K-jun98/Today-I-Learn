## 연관관계 매핑시 고려사항 3가지

### `다중성`
- 다대일: @ManyToOne
- 일대다: @OneToMany
- 일대일: @OneToOne
- 다대다: @ManyToMany


단방향, 양방향
- 테이블
  - 외래 키 하나로 양쪽 조인 가능
  - 방향이라는 개념이 없음
- 객체
  - 참조용 필드가 있어야 접근가능
  - 한쪽만 참조하면 단방향
  - 양쪽으 서로 참조하면 양방향
  
  <br>
  
- 연관관계의 주인
  - `테이블은 외래 키 하나`로 두 테이블이 연관관계를 맺음
  - 객체 양방향 관계는 A->B, B->A 처럼 `참조가 2군데`
  - 테이블의 외래 키를 관리할 곳을 지정해야함
  - 연관관계의 주인: 외래 키를 관리하는 참조
  - 주인의 반대편: 외래 키에 영향을 주지 않음, Read Only`

### 1:N 관계에서 N에 외래 키가 있어야하는 이유
```
객체의 관점이 아니라 테이블의 관점에서 생각해 보면 쉽다. 테이블에서 외래키를 어디에 갖고있어야 하는가?
1:N관계에서 외래키는 N이 갖고있어야한다. 여기에서 팀(1)과 팀원(N) 이라는 테이블이 있을때 주인이 팀이라고 생각해보자
그러면 team.remove(member); 가 실행되면 team에서 멤버를 지웠는데 업데이트 쿼리는 외래키를 갖고있는 member에서 발생하게 된다.
그러면 반대로 주인이 멤버라고 생각해보자 member.remove(team)을 실행하게되면 member에서 쿼리가 발생하게 되고  
```
`ORM은 객체 관계 매핑을 돕는 도구지 객체지향을 온전히 충족할 수 없다.`


## 다대일 [N:1]











## 일대다 [1:N]











## 일대일 [1:1]











## 다대다 [N:N]
