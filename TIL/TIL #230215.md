
## 📚 TIL

---

### `개인 공부`
- [X] 자바 ORM 표준 JPA 프로그래밍(Book) - 3,4장
- [X] 스프링 핵심 원리 - 기본편 - 4,5,6,7,8,9 섹션
- [ ] 
- [ ] 

---
### `짧은 정리`

#### `쓰레드`
- 애플리케이션 코드를 하나하나 순차적으로 실행하는 것은 쓰레드
- 자바 메인 메서드를 처음 실행하면 main이라는 이름의 쓰레드가 실행
- 쓰레드가 없다면 자바 애플리케이션 실행이 불가능
- 쓰레드는 한번에 하나의 코드 라인만 수행
- 동시 처리가 필요하면 쓰레드를 추가로 생성

#### `요청 마다 쓰레드 생성`
- 장점
  - 동시 요청을 처리할 수 있다.
  - 리소스(CPU,메모리)가 허용될 때 까지 처리가능
  - 하나의 쓰레드가 지연 되어도, 나머지 쓰레드는 정상 동작한다.
- 단점
  - 쓰레드는 생성 비용은 매우 비싸다.
    - 고객의 요청이 올 때 마다 쓰레드를 생성하면 응답 속도가 늦어진다.
  - 쓰레드는 컨텍스트 스위칭 비용이 발생한다.
  - 쓰레드 생성에 제한이 없다.
    - 고객 요청이 몰리면 메모리 임계점을 넘어서 서버가 죽을 수 있다.

#### `쓰레드 풀`
- 특징
  - 필요한 쓰레드를 쓰레드 풀에 보관하고 관리한다.
  - 쓰레드 풀에 생성 가능한 쓰레드의 최대치를 관리한다. 톰캣은 최대 200개 기본 설정
- 사용
  - 쓰레드가 필요하면, 이미 생성되어 있는 쓰레드를 쓰레드 풀에서 꺼내서 사용
  - 사용을 종료하면 쓰레드 풀에 해당하는 쓰레드를 반납한다.
  - 최대 쓰레드가 모두 사용중 이라면?
    - 기다리는 요청은 거절하거나 특정 숫자만큼만 대기하도록 설정할 수 있다.
- 장점
  - 쓰레드가 미리 생성되어 있으므로, 쓰레드를 생성하고 종료하는 비용이 절약되고, 응답이 빠름
  - 생성 가능한 쓰레드의 최대치가 있으므로 너무 많은 요청이 들어와도 기존 요청은 안전하게 처리할 수 있다.
 